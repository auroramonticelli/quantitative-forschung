<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visualisierung – Quantitative Forschung</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="page-wrapper">
  <div class="sidebar">
    <h3>Inhaltsverzeichnis</h3>
    <a href="#section1">Warum Visualisierung?</a>
    <a href="#section0">Datenexploration</a>
    <a href="#section2">Plots: Barplot, Boxplot, Histogram</a>
    <a href="#section3">Ästhetische Anpassungen</a>
  </div>

  <div class="main-content">
    <header>
      <h1>Quantitative Forschung</h1>
      <p>Lerne R für Visualisierung und statistische Tests</p>
    </header>

    <nav>
      <a href="index.html">Startseite</a>
      <a href="good-practices.html">Good Practices</a>
      <a href="visualization.html" style="background: #1c6ea4;">Visualisierung</a>
      <a href="testing.html">Tests</a>
      <a href="materials.html">Materialien</a>
    </nav>

    <main>
      <section id="section1">
        <h2>Warum Visualisierung?</h2>
        <p>Visualisierung transformiert Rohdaten in verständliche Muster und Einblicke. Es hilft dabei:</p>
        <ul>
          <li><strong>Muster zu erkennen</strong> - Trends, Cluster oder Zyklen identifizieren</li>
          <li><strong>Ausreisser zu entdecken</strong> - Ungewöhnliche Datenpunkte visualisieren</li>
          <li><strong>Zusammenhänge zu verstehen</strong> - Beziehungen zwischen Variablen erkennen</li>
          <li><strong>Kommunikation zu verbessern</strong> - Komplexe Ergebnisse einfach darstellen</li>
        </ul>
        <div class="key-point">
            <button class="collapsible">Der Visualisierungsprozess</button>
            <div class="content">
                <p>Ein effektiver Workflow für Datenvisualisierung:</p>
                <ol>
                    <li>Daten bereinigen und vorbereiten</li>
                    <li>Forschungsfrage definieren</li>
                    <li>Passenden Visualisierungstyp auswählen</li>
                    <li>Grafik erstellen und anpassen</li>
                    <li>Interpretieren und Insights ableiten</li>
                </ol>
            </div>
          </div>
      </section>

      <section id="section0">
        <h2>Datenexploration</h2>
        
        <div class="educational-content">
          <p>Bevor wir mit der Visualisierung beginnen, ist es entscheidend, ein grundlegendes Verständnis unserer Daten zu entwickeln. Die Datenexploration hilft uns, Probleme zu identifizieren und die richtigen Visualisierungsmethoden auszuwählen.</p>

          <div class="key-point">
            <p>Daten können verschiedene Probleme aufweisen, die Ihre Visualisierungen und Analysen beeinträchtigen können:</p>
            <ul>
              <li><strong>Fehlende Werte</strong> - Können zu verzerrten Ergebnissen führen</li>
              <li><strong>Ausreisser</strong> - Extreme Werte, die die Interpretation verfälschen können</li>
              <li><strong>Datentyp-Probleme</strong> - Zahlen, die als Text gespeichert sind</li>
              <li><strong>Skalenunterschiede</strong> - Variablen in unterschiedlichen Massstäben</li>
            </ul>
          </div>
          

          <h3>Grundlegende Datenexploration in R</h3>
          
          <!-- First R Console: Data Structure -->
          <div class="r-console">
            <div class="r-header">
              <div class="r-window-controls">
                <span class="r-window-control r-control-close"></span>
                <span class="r-window-control r-control-minimize"></span>
                <span class="r-window-control r-control-maximize"></span>
              </div>
              <span>R Console</span>
            </div>
            <div class="r-content">
              <pre class="r-code"><span class="r-comment"># Datenstruktur untersuchen</span>
<span class="r-function">str</span>(data)</pre>
            </div>
          </div>
          
          <div class="code-explanation">
            <strong>Erklärung:</strong> Die <code>str()</code> Funktion zeigt die Struktur des Datensatzes an - welche Variablen enthalten sind, ihre Datentypen und die ersten paar Werte.
          </div>
          
          <!-- Second R Console: First Rows -->
          <div class="r-console">
            <div class="r-header">
              <div class="r-window-controls">
                <span class="r-window-control r-control-close"></span>
                <span class="r-window-control r-control-minimize"></span>
                <span class="r-window-control r-control-maximize"></span>
              </div>
              <span>R Console</span>
            </div>
            <div class="r-content">
              <pre class="r-code"><span class="r-comment"># Erste Zeilen anzeigen</span>
<span class="r-function">head</span>(data)</pre>
            </div>
          </div>
          
          <div class="code-explanation">
            <strong>Erklärung:</strong> <code>head()</code> zeigt die ersten 6 Zeilen des Datensatzes an, um einen ersten Eindruck von den Daten zu bekommen.
          </div>
          
          <!-- Third R Console: Summary Statistics -->
          <div class="r-console">
            <div class="r-header">
              <div class="r-window-controls">
                <span class="r-window-control r-control-close"></span>
                <span class="r-window-control r-control-minimize"></span>
                <span class="r-window-control r-control-maximize"></span>
              </div>
              <span>R Console</span>
            </div>
            <div class="r-content">
              <pre class="r-code"><span class="r-comment"># Zusammenfassende Statistiken</span>
<span class="r-function">summary</span>(data)</pre>
            </div>
          </div>
          
          <div class="code-explanation">
            <strong>Erklärung:</strong> <code>summary()</code> berechnet deskriptive Statistiken für alle Variablen im Datensatz (Mittelwert, Median, Min, Max, Quartile).
          </div>
          
          <!-- Fourth R Console: Missing Values -->
          <div class="r-console">
            <div class="r-header">
              <div class="r-window-controls">
                <span class="r-window-control r-control-close"></span>
                <span class="r-window-control r-control-minimize"></span>
                <span class="r-window-control r-control-maximize"></span>
              </div>
              <span>R Console</span>
            </div>
            <div class="r-content">
              <pre class="r-code"><span class="r-comment"># Fehlende Werte identifizieren</span>
<span class="r-function">sum</span>(<span class="r-function">is.na</span>(data))</pre>
            </div>
          </div>
          
          <div class="code-explanation">
            <strong>Erklärung:</strong> Dieser Code zählt die Gesamtzahl der fehlenden Werte (NA) im gesamten Datensatz.
          </div>
          
          <!-- Fifth R Console: Frequencies -->
          <div class="r-console">
            <div class="r-header">
              <div class="r-window-controls">
                <span class="r-window-control r-control-close"></span>
                <span class="r-window-control r-control-minimize"></span>
                <span class="r-window-control r-control-maximize"></span>
              </div>
              <span>R Console</span>
            </div>
            <div class="r-content">
              <pre class="r-code"><span class="r-comment"># Häufigkeiten einer kategoriale Variable</span>
<span class="r-function">table</span>(data$gender)</pre>
            </div>
          </div>
          
          <div class="code-explanation">
            <strong>Erklärung:</strong> <code>table()</code> erstellt eine Häufigkeitstabelle für kategoriale Variablen. Vor dem "$" gibt man den Datensatz an, nach dem "$" die gewünschte Variable.
          </div>
        </div>
      </section>

      <section id="section2">
    <h2>Plots: Barplot, Boxplot, Histogram</h2>
    <div class="educational-content">
        <p>In diesem Abschnitt lernen Sie drei grundlegende Diagrammtypen kennen, die für verschiedene Arten von Daten geeignet sind.</p>
        
        <div class="key-point">
            <h4>Wie wähle ich den richtigen Diagrammtyp?</h4>
            <ul>
                <li><strong>Barplot (Balkendiagramm):</strong> Für kategorische Daten (z.B. Geschlecht, Beruf)</li>
                <li><strong>Boxplot:</strong> Für den Vergleich von Verteilungen zwischen Gruppen</li>
                <li><strong>Histogram:</strong> Für die Verteilung einer numerischen Variable</li>
            </ul>
        </div>

        <!-- BARPLOT SECTION -->
        <div class="key-point">
            <h4>1. Barplot (Balkendiagramm)</h4>
            <p><strong>Wann verwenden?</strong> Wenn Sie die Häufigkeiten von Kategorien darstellen möchten, z.B. wie viele Personen in jeder Geschlechtskategorie sind.</p>

            <h5>Schritt-für-Schritt Erklärung:</h5>
            
            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code">ggplot(data, aes(x = gender))</pre>
                </div>
            </div>
            <div class="code-explanation">
                <strong>Erklärung:</strong> <code>ggplot(data)</code> sagt R, dass wir mit unserem Datensatz "data" arbeiten. <code>aes(x = gender)</code> teilt mit, dass die Geschlechtsvariable auf der x-Achse dargestellt werden soll.
            </div>

            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code">+ geom_bar(fill = "#b9aadf")</pre>
                </div>
            </div>
            <div class="code-explanation">
                <strong>Erklärung:</strong> <code>geom_bar()</code> erstellt die Balken. <code>fill = "#b9aadf"</code> färbt die Balken lila. Die Farbe kann beliebig geändert werden.
            </div>

            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code">+ labs(title = "Anzahl von TeilnehmerInnen nach Geschlecht", 
       x = "Geschlecht", y = "Häufigkeit")</pre>
                </div>
            </div>
            <div class="code-explanation">
                <strong>Erklärung:</strong> <code>labs()</code> fügt Beschriftungen hinzu: Titel der Grafik, x-Achsen-Beschriftung und y-Achsen-Beschriftung.
            </div>

            <h5>Vollständiger Code:</h5>
            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code"># Barplot für Anzahl TeilnehmerInnen nach Geschlecht
ggplot(data, aes(x = gender)) + 
  geom_bar(fill = "#b9aadf") +
  labs(title = "Anzahl von TeilnehmerInnen nach Geschlecht", 
       x = "Geschlecht", y = "Häufigkeit")</pre>
                </div>
            </div>

            <div class="interpretation">
                <h5>Interpretation des Barplots:</h5>
                <p>Der Barplot zeigt die Verteilung der Teilnehmer nach Geschlecht. In diesem Beispiel sind deutlich mehr Frauen als Männer in der Stichprobe vertreten. Die y-Achse zeigt an, wie viele Personen in jeder Kategorie sind.</p>
                <p><strong>Was Sie ablesen können:</strong> Welche Kategorie am häufigsten vorkommt und wie groß die Unterschiede zwischen den Kategorien sind.</p>
            </div>
            
            <div class="image-container">
                <img src="Rplot.png" alt="Barplot: Anzahl von TeilnehmerInnen nach Geschlecht">
            </div>
        </div>

        <!-- BOXPLOT SECTION -->
        <div class="key-point">
            <h4>2. Boxplot</h4>
            <p><strong>Wann verwenden?</strong> Wenn Sie die Verteilung einer numerischen Variable (z.B. Zufriedenheit) zwischen verschiedenen Gruppen vergleichen möchten.</p>

            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code"># Boxplot für Arbeitszufriedenheit nach Geschlecht
ggplot(data, aes(x = gender, y = job_satisfaction)) + 
  geom_boxplot(fill = "#B6CEB4") +
  labs(title = "Arbeitszufriedenheit nach Geschlecht", 
       x = "Geschlecht", y = "Arbeitszufriedenheit")</pre>
                </div>
            </div>
            <div class="code-explanation">
                <strong>Erklärung:</strong> Hier haben wir zwei Variablen: <code>x = gender</code> (kategorisch) und <code>y = job_satisfaction</code> (numerisch). <code>geom_boxplot()</code> erstellt die Boxplots.
            </div>

            <div class="interpretation">
                <h5>Interpretation des Boxplots:</h5>
                <p>Ein Boxplot zeigt fünf wichtige Informationen:</p>
                <ul>
                    <li><strong>Median:</strong> Die Mitte der Verteilung (dicke Linie in der Box)</li>
                    <li><strong>Box:</strong> Enthält die mittleren 50% der Daten (25.-75. Perzentil)</li>
                    <li><strong>Whisker (Antennen):</strong> Zeigen den Bereich der "normalen" Werte</li>
                    <li><strong>Punkte:</strong> Mögliche Ausreißer (extreme Werte)</li>
                </ul>
                <p>In diesem Beispiel zeigen die Boxplots ähnliche Arbeitszufriedenheitswerte bei Frauen und Männern. Die Mediane liegen nahe beieinander, was auf keine großen Unterschiede zwischen den Gruppen hindeutet.</p>
            </div>
            
            <div class="image-container">
                <img src="Rplot02.png" alt="Boxplot: Arbeitszufriedenheit nach Geschlecht">
            </div>
        </div>

        <!-- HISTOGRAM SECTION -->
        <div class="key-point">
            <h4>3. Histogram</h4>
            <p><strong>Wann verwenden?</strong> Wenn Sie die Verteilung einer einzelnen numerischen Variable verstehen möchten, z.B. wie die Arbeitszufriedenheitswerte verteilt sind.</p>

            <div class="r-console">
                <div class="r-header">
                    <div class="r-window-controls">
                        <span class="r-window-control r-control-close"></span>
                        <span class="r-window-control r-control-minimize"></span>
                        <span class="r-window-control r-control-maximize"></span>
                    </div>
                    <span>R Console</span>
                </div>
                <div class="r-content">
                    <pre class="r-code"># Histogram für Arbeitszufriedenheit
ggplot(data, aes(x = job_satisfaction)) + 
  geom_histogram(binwidth = 1, fill = "#BBDCE5", color = "black") +
  labs(title = "Verteilung der Arbeitszufriedenheit", 
       x = "Arbeitszufriedenheit", y = "Häufigkeit")</pre>
                </div>
            </div>
            <div class="code-explanation">
                <strong>Erklärung:</strong> <code>geom_histogram()</code> erstellt das Histogramm. <code>binwidth = 1</code> legt die Breite der Balken fest (hier: 1 Punkt auf der Zufriedenheitsskala). <code>color = "black"</code> fügt schwarze Ränder hinzu für bessere Sichtbarkeit.
            </div>

            <div class="interpretation">
                <h5>Interpretation des Histogramms:</h5>
                <p>Das Histogramm zeigt, wie häufig jeder Wert der Arbeitszufriedenheit vorkommt:</p>
                <ul>
                    <li><strong>Höhe der Balken:</strong> Zeigt an, wie viele Personen diesen Wert angegeben haben</li>
                    <li><strong>Form der Verteilung:</strong> Zeigt, ob die Werte eher niedrig, hoch oder gleichmäßig verteilt sind</li>
                </ul>
                <p>In diesem Beispiel wurden die Zufriedenheitswerte 3 und 4 am häufigsten gewählt. Die Verteilung zeigt eine Tendenz zu höherer Arbeitszufriedenheit.</p>
            </div>
            
            <div class="image-container">
                <img src="Rplot03.png" alt="Histogram: Verteilung der Arbeitszufriedenheit">
            </div>
        </div>

        <!-- ZUSAMMENFASSUNG -->
        <div class="key-point">
            <h4>Zusammenfassung</h4>
            <p>Jeder Diagrammtyp beantwortet eine andere Frage:</p>
            <table style="width:100%; border-collapse: collapse; margin: 20px 0;">
                <tr style="background-color: #f2f2f2;">
                    <th style="padding: 10px; border: 1px solid #ddd;">Diagrammtyp</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Frage</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Variablen</th>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;">Barplot</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Wie viele in jeder Kategorie?</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Eine kategorische Variable</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;">Boxplot</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Wie unterscheiden sich Verteilungen zwischen Gruppen?</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Eine kategorische und eine numerische Variable</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;">Histogram</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Wie sind die Werte einer Variable verteilt?</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Eine numerische Variable</td>
                </tr>
            </table>
        </div>
    </div>
</section>

      <section id="section3">
    <h2>Ästhetische Anpassungen</h2>
    <p>Wir passen Titel, Farben und Positionen an, um Grafiken klarer zu gestalten.</p>
    
    <div class="educational-content">
      <div class="key-point">
            <h4>Alles am Plot ist austauschbar!</h4>
            <p>Lieber eine andere Farbe? Grössere Schrift? Mit ggplot2 kannst du jedes Element eines Plots  individuell so anpassen, dass er aufgeräumt und stilvoll wirkt.</p>
             <p>Eine effektive Visualisierung ist nicht nur korrekt, sondern auch ästhetisch ansprechend und leicht verständlich.</p>
        </div>
        
        <h3>Schritt 1: Grundgerüst erstellen</h3>
        <p>Zuerst erstellen wir ein einfaches Balkendiagramm für unsere Daten:</p>
        
        <div class="r-console">
            <div class="r-header">
                <div class="r-window-controls">
                    <span class="r-window-control r-control-close"></span>
                    <span class="r-window-control r-control-minimize"></span>
                    <span class="r-window-control r-control-maximize"></span>
                </div>
                <span>R Console</span>
            </div>
            <div class="r-content">
                <pre class="r-code">
# Einfaches Balkendiagramm erstellen
ggplot(data, aes(x = profession)) +
  geom_bar()
                </pre>
            </div>
        </div>

        <h3>Schritt 2: Farben hinzufügen</h3>
        <p>So kannst du Farben hinzufügen, um die Balken ansprechender zu gestalten:</p>
        
        <div class="r-console">
            <div class="r-header">
                <div class="r-window-controls">
                    <span class="r-window-control r-control-close"></span>
                    <span class="r-window-control r-control-minimize"></span>
                    <span class="r-window-control r-control-maximize"></span>
                </div>
                <span>R Console</span>
            </div>
            <div class="r-content">
                <pre class="r-code">
# Balkendiagramm mit einer Farbe
ggplot(data, aes(x = profession)) +
  geom_bar(fill = "#b9aadf")  # Lila Farbe für alle Balken

# Balkendiagramm mit mehreren Farben
ggplot(data, aes(x = profession, fill = profession)) + # Mit "fill = profession" plotest du eine Farbe pro Beruf
    geom_bar() +
    scale_fill_brewer(palette = "Blues")
    
# Balkendiagramm mit Farben nach Geschlecht aufgeteilt
ggplot(data, aes(x = profession, fill = gender)) + 
    geom_bar(position = "dodge") +  # "dodge" = nebeneinander
    scale_fill_brewer(palette = "Blues") + # Das ist optional hier kannst du deine Farbpalette aussuchen
    theme_minimal()
                </pre>
            </div>
        </div>

        <h3>Schritt 3: Titel und Achsen beschriften</h3>
        <p>Titel und Achsenbeschriftungen machen die Grafik verständlich:</p>
        
        <div class="r-console">
            <div class="r-header">
                <div class="r-window-controls">
                    <span class="r-window-control r-control-close"></span>
                    <span class="r-window-control r-control-minimize"></span>
                    <span class="r-window-control r-control-maximize"></span>
                </div>
                <span>R Console</span>
            </div>
            <div class="r-content">
                <pre class="r-code">
# Mit Titel und Achsenbeschriftungen
ggplot(data, aes(x = profession)) +
  geom_bar() +
  labs(
    title = "Anzahl der Beschäftigten nach Beruf",
    x = "Beruf",           # X-Achse beschriften
    y = "Anzahl"           # Y-Achse beschriften
  )
                </pre>
            </div>
        </div>

        <h3>Schritt 4: Textgrössen anpassen</h3>
        <p>Mit theme() können wir die Textgrössen anpassen:</p>
        
        <div class="r-console">
            <div class="r-header">
                <div class="r-window-controls">
                    <span class="r-window-control r-control-close"></span>
                    <span class="r-window-control r-control-minimize"></span>
                    <span class="r-window-control r-control-maximize"></span>
                </div>
                <span>R Console</span>
            </div>
            <div class="r-content">
                <pre class="r-code">
# Textgrössen anpassen
ggplot(data, aes(x = profession)) +
  geom_bar() +
  labs(
    title = "Anzahl der Beschäftigten nach Beruf",
    x = "Beruf",
    y = "Anzahl"
  ) +
  theme(
    plot.title = element_text(size = 16, face = "bold"),  # Titel grösser und fett
    axis.title = element_text(size = 12),                 # Achsentitel Grösse
    axis.text = element_text(size = 10)                   # Achsentext Grösse
  )
                </pre>
            </div>
        </div>

        <h3>Schritt 5: Hintergrund anpassen</h3>
        <p>Wir können den Hintergrund der Grafik vereinfachen mit theme_minimal():</p>
        
        <div class="r-console">
            <div class="r-header">
                <div class="r-window-controls">
                    <span class="r-window-control r-control-close"></span>
                    <span class="r-window-control r-control-minimize"></span>
                    <span class="r-window-control r-control-maximize"></span>
                </div>
                <span>R Console</span>
            </div>
            <div class="r-content">
                <pre class="r-code">
# Komplette Grafik mit allen Anpassungen
ggplot(data, aes(x = profession, fill = profession)) +
  geom_bar() + #Basis des Balkendiagrams
  labs(
    title = "Anzahl der Beschäftigten nach Beruf",
    x = "Beruf", # X-Achsen-Beschriftung
    y = "Häufigkeit", # Y-Achsen-Beschriftung
    fill = "Profession"  # Legendentitel 
  ) +
  theme(
    plot.title = element_text(size = 16, face = "bold"),  # Titel-Stil
    axis.title = element_text(size = 12), # Achsen-Titel-Stil
    axis.text = element_text(size = 10), # Achsen-Titel-Stil
    ) +
    theme_minimal() # Hintergrund vereinfachen
                </pre>
            </div>
        </div>
<div class="image-container">
  <img src="Rplot05.png" alt="Plot">
</div>
        <div class="key-point">
            <h4>Deine Plots können noch mehr!</h4>
            <p>ggplot2 ist wie eine unendliche Spielwiese, du hast erst die Oberfläche angekratzt! Deine Plots können noch so viel mehr werden.</p>
            <p>Benutze Cheat Sheets oder <a href="https://r-graph-gallery.com/" class="btn" target="_blank">R Graph Gallery</a> zur Inspiration.<span class="badge">Tipp</span></p> 
        </div>

        
        
    </div>
</section>
    </main>

    <footer>
      <p>&copy; 2025 Quantitative Forschung | Gehostet auf GitHub Pages</p>
    </footer>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const coll = document.getElementsByClassName("collapsible");

  Array.from(coll).forEach(button => {
    button.addEventListener("click", function () {
      this.classList.toggle("active");
      const content = this.nextElementSibling;
      if (!content) return;

      // close if open
      if (content.style.maxHeight && content.style.maxHeight !== "0px") {
        content.style.maxHeight = "0px";
      } else {
        // open: set to scrollHeight so transition animates
        content.style.maxHeight = content.scrollHeight + "px";
      }
    });
  });

  // keep open panels sized correctly on window resize
  window.addEventListener("resize", () => {
    Array.from(document.getElementsByClassName("content")).forEach(c => {
      if (c.style.maxHeight && c.style.maxHeight !== "0px") {
        c.style.maxHeight = c.scrollHeight + "px";
      }
    });
  });
});
</script>

</body>
</html>
